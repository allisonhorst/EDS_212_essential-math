<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>EDS 212 - Essential Math in Environmental Data Science</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.7/header-attrs.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# EDS 212 - Essential Math in Environmental Data Science
## Day 1: Course intro &amp; basic math review

---


## Welcome to EDS 212 - Essential Math in Environmental Data Science

- **Teacher:** Allison Horst (ahorst@ucsb.edu)
- **Course assistant:** 
- **Course hours:** 8am - 5pm PST, Monday - Friday
- **Location:** NCEAS MEDS Classroom

Let's take a look at the [course syllabus](https://docs.google.com/document/d/1Kcc9BhZuKeAGxQeW0ls7KY0oUtt-TBwEgOibl4_ShtY/edit?usp=sharing) together. 

---

## Course description

- **Units:** 2

- **Grading:** Pass/No Pass 

- **Description:** Quantitative skills and understanding are critical when working with, understanding, analyzing and gleaning insights from environmental data. In the intensive EDS 212 course, students will refresh fundamental skills in basic math (algebra, uni- and multivariate functions, units and unit conversions), summary statistics and basic probability theory, derivative and differential equations, linear algebra, and reading, writing and evaluating logical operations.

---

## Daily schedule
|                   |                                                            |
|-------------------|------------------------------------------------------------|
| **Time (PST)**    | **Activity**                                               |
| 8:00am - 9:00am   | *Lecture 1 (60 min)*                                       |
| 9:00am - 9:15am   | *Break 1 (15 min)*                                         |
| 9:15am - 10:15am  | *Interactive Session 1 (60 min)*                           |
| 10:15am - 11:00am | *Flex time (45 min)*                                       |
| 11:00am - 12:15pm | *Break 2 (75 min)*                                         |
| 12:15pm - 1:15pm  | *Lecture 2 (60 min)*                                       |
| 1:15pm - 2:15pm   | *Interactive Session 2 (60 min)*                           |
| 2:15pm - 3:15pm   | *Flex time (60 min)*                                       |
| 3:15pm - 5:00pm   | *Interactive Session 3: Group &amp; challenge tasks (105 min)* |

---

## Topics overview

- **Day 1:** Course introduction &amp; math basics refresher
- **Day 2:** Derivatives
- **Day 3:** Integrals
- **Day 4:** Differential equations
- **Day 5:** Linear and Boolean algebra

---

class: center, middle

## Why am I taking a math class? 

(or, *Why do I have to know math when a computer will do math for me?*)

---

## A quantitative brain warm-up

### MEDS students have diverse work &amp; academic histories

What was a focus of your education or work for some may not have been included in someone else's curriculum or training. This course re/introduces math concepts and tools that: 

- Focus on applications to environmental data science
- Are specifically relevant for MEDS projects, coursework
- Provide an entryway into building computational skills

--

### Short gaps in math use = quickly atrophied math brain

- Refresh quantitative thinking skills generally
- Refresh essentials like units, conversions, notation, language, &amp; more

---

class: center, middle

## Examples: Math in environmental data science

---

## Example 1: 

---

## Example 2:

---

## Example 3:

---

## Example 4:

---

class: center, middle

## But first, warm-up stretches

---

## Math brain warm up

- Algebra blitz
- Common units and unit conversions
- Exponentials and logarithms
- Functions
- Understanding graphs
- Interpreting equations

---

## Algebra blitz

### You can get far with a few rules

- Order of operations
- Equations are already solved (but sometimes we need them in a different format)
- Do whatever you want but do the same thing to both sides

---

## Order of operations (P-E-MD-AS)

**P** - Parentheses

**E** - Exponents

**M/D** - Multipication / division

**A/S** - Addition / subtraction


---

## Order of operations practice problems

Simplify the following: `\((12 - 2)/5 + 5(3+2)/6\)`

&lt;br/&gt;&lt;br/&gt;

Simplify the following: `\(\frac{4-6}{2}(3+1)-\frac{1+2*4}{3}\)`

&lt;br/&gt;&lt;br/&gt;

Simplify the following: `\(3x+4(8x-6x) -(2y-5)+\frac{2x(1-3)}{2}\)`

---

## Notation matters

Simplify the following: `\(6 \div 3(4+2)\)`

&lt;/br&gt;

--

What would be a harder-to-misinterpret way to write this?

&lt;/br&gt;&lt;/br&gt;

--

### Important takeaway: Being readable &amp; hard to incorrectly interpret is often as important as being technically "correct"

When designing things, it's important to consider the different ways that users might misuse or misunderstand it - then build in safeguards to help them use it correctly. Clear communication and user-centered design is critical in environmental data science. 

---

## Equations are solved

&lt;/br&gt;

`$$2x-5y+3.9=8x^2-100.7x$$`
&lt;/br&gt;

Provides solutions for the questions:

1. "What is the value of `\(2x-5y+3.9\)`?" and 
2. "What is the value of `\(8x^2-100.7x\)`?"
---

## It is often helpful to reorganizing things

In the equation on the previous slide (shown below), we might want to solve for *y*:

`$$2x-5y+3.9=8x^2-100.7x$$`
&lt;br/&gt;
### The one rule to rule them all: 

You can do whatever you want to an equation, as long as you do **the exact same thing to both sides.** That includes ensuring that you are applying something entirely to each side. 

---

## We're really just doing the same thing to both sides until we're happy with the format

### Example: 

Apply the same operation to each side of the following equation step-by-step to isolate `\(x\)` on one side. **Write out all steps.**

`$$4x+8=5-2x$$`

---

### Example: 

Apply the same operation to each side of the following equation step-by-step to isolate `\(a\)` on one side. **Write out all steps.**

`$$\frac{2(a+1)}{3a}+4=6$$`
---

## Exponents &amp; how to do math with them

`$$x^n=x\times x\times\ x \times x...(n\space times)$$`
### Exponent warm-ups
Evaluate the following to find a value for `\(y\)`:

1. `\(y = 12-2^4\)`

2. `\(2y + 30=y+3^3\)`

---

## Exponent rules

- `\(x^ax^b=x^{a+b}\)` ; **Example:** `\(y^5y^3=x^{5+3}=x^8\)`

- `\(\frac{x^a}{x^b}=x^{a-b}\)` ; **Example:** `\(\frac{z^5}{z^3}=z^{5-3}=z^2\)`

- `\(\frac{1}{x^a}=x^{-a}\)` ; **Example:** `\(b^{-4x}=\frac{1}{b^{4x}}\)`

- `\((x^a)^b=x^{ab}\)` ; **Example:** `\((2^3)^2=2^{3*2}=2^6=64\)`

- `\((\frac{x}{y})^a=\frac{x^a}{y^a}\)` ; **Example:** `\((\frac{y}{2^2})^2=\frac{y^2}{(2^2)^2}=\frac{y^2}{2^4}=\frac{y^2}{16}\)`

- `\(x^1 = x\)` ; **Example:**

- `\(x^0=1\)` ; **Example:**

- `\((xy)^a=x^ay^a\)` ; **Example:**

---

## Exponent practice

Simplify the following expressions using the rules of exponents:

1. `\(3x^5x^8x^{-11}\)`

2. `\(\frac{-8x^6}{2x^4}+7x^2\)`

3. `\(\frac{3x}{x^5}-3.8x^4\frac{x^3}{x^6}+8.1x-11.2\)`

---

# UNITS. UNITS. UNITS.

Think about these statements, which all contain the same *value* of 4:

- There are four in the refrigerator.

- There are four **burritos** in the refrigerator.

- There are four **roaches** in the refrigerator.

- There are four **million dollars** in the refrigerator.

---

class: center, middle

### Units are critical in environmental data science. We cannot responsibly work with data without knowing the units of **each variable we're working with**.

### That means we need to always **familiarize ourselves with metadata**, carefully **check units and any unit conversions**, and understand **how units combine to into the units of a dependent variable**.

---

## Dimensional analysis for unit conversions

---

## Unit conversion practice

---

## Functions

Functions are mathematical expressions that tell us how input values are related to output values. 

For example, `\(y = 3x-5\)` is a function that tells us the **value of y** at **any value of x**. In this scenario, we would probably say **y is a function of x**. 

Could you also rewrite it and say **x is a function of y**? Here, with no knowledge of what's an input and what's an output, sure - but usually in environmental data science we specify the input variable(s), and the output variable(s) carefully. 

What follows is the expression in the format of: "**[output variable(s)] is/are a function of [input variable(s)]**". 

---

## Thinking about inputs and outputs

For the following combinations of related variables, which do you expect would be the **input** and the **output** in a function describing how they are related? Say your answer in a sentence, e.g. "Evapotranspiration is a function of air temperature."

1. fuel (biomass) / slope / wildfire severity / windspeed / air temperature

2. water temperature / kelp biomass / solar irradiation 

3. soil C:N ratio / bacterial biomass / soil water content / leaf litter decomposition rate

4. wind speed / power generated by wind turbine

---

Actually show research showing a couple of those...

---

## Function notation (independent &amp; dependent variables)

---

## Parameters v variables

---

Components of a function

---

Evaluating functions

---

## Considering "invisible units" in functions

---

class: center, middle

# Day 1 Part 2: 
# Natural exponential, logarithms, graphs, slope

--

# R Code


```r
# a boring regression
fit = lm(dist ~ 1 + speed, data = cars)
coef(summary(fit))
```

```
#               Estimate Std. Error   t value     Pr(&gt;|t|)
# (Intercept) -17.579095  6.7584402 -2.601058 1.231882e-02
# speed         3.932409  0.4155128  9.463990 1.489836e-12
```

---

# R Plots


```r
par(mar = c(4, 4, 1, .1))
plot(cars, pch = 19, col = 'darkgray', las = 1)
abline(fit, lwd = 2)
```

![](EDS_212_day-1-slides_files/figure-html/cars-1.svg)&lt;!-- --&gt;

---

# Tables

If you want to generate a table, make sure it is in the HTML format (instead of Markdown or other formats), e.g.,


```r
knitr::kable(head(iris), format = 'html')
```

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; Sepal.Length &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Sepal.Width &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Petal.Length &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Petal.Width &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Species &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 5.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 5.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 5.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---


---

# Some Tips

- There are several ways to build incremental slides. See [this presentation](https://slides.yihui.org/xaringan/incremental.html) for examples.

- The option `highlightLines: true` of `nature` will highlight code lines that start with `*`, or are wrapped in `{{ }}`, or have trailing comments `#&lt;&lt;`;

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          highlightLines: true
    ```

    See examples on the next page.

---

# Some Tips


.pull-left[
An example using a leading `*`:

    ```r
    if (TRUE) {
    ** message("Very important!")
    }
    ```
Output:
```r
if (TRUE) {
* message("Very important!")
}
```

This is invalid R code, so it is a plain fenced code block that is not executed.
]

.pull-right[
An example using `{{}}`:

````
```{r tidy=FALSE}
if (TRUE) {
*{{ message("Very important!") }}
}
```
````
Output:

```r
if (TRUE) {
* message("Very important!") 
}
```

```
## Very important!
```

It is valid R code so you can run it. Note that `{{}}` can wrap an R expression of multiple lines.
]

---

# Some Tips

An example of using the trailing comment `#&lt;&lt;` to highlight lines:

````markdown
```{r tidy=FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() +   #&lt;&lt;
  geom_smooth()    #&lt;&lt;
```
````

Output:


```r
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
* geom_point() +
* geom_smooth()
```

---

# Some Tips

When you enable line-highlighting, you can also use the chunk option `highlight.output` to highlight specific lines of the text output from a code chunk. For example, `highlight.output = TRUE` means highlighting all lines, and `highlight.output = c(1, 3)` means highlighting the first and third line.

````md
```{r, highlight.output=c(1, 3)}
head(iris)
```
````


```
*##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
*## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
```

Question: what does `highlight.output = c(TRUE, FALSE)` mean? (Hint: think about R's recycling of vectors)

---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
